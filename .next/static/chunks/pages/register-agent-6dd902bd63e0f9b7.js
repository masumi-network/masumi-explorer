(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{92606:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register-agent",function(){return t(68943)}])},13724:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(a,{A:()=>v});var r=t(74848),n=t(70220),i=t(7436),c=t(32735),l=t(93637),d=t(85386),o=t(30551),u=t(88743),m=t(40586),p=t(89889),h=t(11741),g=t(96540),x=t(48287).Buffer,f=e([n,i]);function v(e){let{addDebugInfo:a}=e,{wallet:t,connected:s}=(0,n.vT)(),[f,v]=(0,g.useState)(!1),[b,y]=(0,g.useState)(!0),[j,w]=(0,g.useState)(null),[N,_]=(0,g.useState)({name:"Test AI Assistant",description:"A powerful AI assistant that helps with natural language processing, code generation, and general knowledge queries. Specialized in Cardano blockchain technology.",api_url:"https://api.masumi.network/agents/test-assistant",example_output:"QmX7bJqhS7XQMnX3qhV5Z9Z9Z9Z9Z9Z9Z9Z9Z9Z9Z9Z9Z9Z",version:"1.0.0",author:{name:"John Doe",contact:"john@example.com",organization:"Masumi Labs"},requests_per_hour:1e3,tags:["AI","NLP","Code Generation","Cardano"],legal:{"privacy policy":"https://masumi.network/privacy",terms:"https://masumi.network/terms",other:"https://masumi.network/legal"},image:"https://masumi.network/images/test-assistant.png",paymentAddress:""}),A=(e,a,t)=>{_(s=>"author"===e||"legal"===e?{...s,[e]:{...s[e],[a]:t}}:{...s,[e]:t})},C=e=>{if(e.length<=64)return e;let a=[];for(let t=0;t<e.length;t+=64)a.push(e.slice(t,t+64));return a},T=async()=>{if(!b){alert("Please wait for the previous transaction to confirm (about 20-30 seconds)");return}try{v(!0),y(!1);let e={code:(0,i.He)(d.Y.validators[0].compiledCode,["addr_test1wr3hvt2hw89l6ay85lr0f2nr80tckrnpjr808dxhq39xkssvw7mx8"]),version:"V3"},a=await t.getUtxos();if(0===a.length)throw Error("No UTXOs found for the specified wallet");let s=a.find(e=>{let a=e.output.amount.find(e=>"lovelace"===e.unit),t=1===e.output.amount.length,s=BigInt(25e6),r=a&&BigInt(a.quantity)>s;return a&&r&&t});if(!s)throw Error("No suitable UTXO found. Need at least 25 ADA in a single UTXO with no tokens.");let r=s.input.txHash,n=s.input.outputIndex,o=r+n.toString(16).padStart(8,"0"),u=new Uint8Array(x.from(o,"hex")),m=(0,l.S)(u,32),p=x.from(m).toString("hex"),h=(0,c.g6)(e.code,e.version).hash().toString(),g=new i.ZX({initiator:t}).setTxInputs([s]);g.isCollateralNeeded=!0,g.txBuilder.mintPlutusScript(e.version).mint("1",h,p).mintingScript(e.code).mintRedeemerValue({alternative:0,fields:[]},"Mesh");let f={[h]:{[p]:{name:N.name,description:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,t=[],s=e;for(;s.length>0;){let e=a;if(s.length>a){let t=s.slice(0,a).lastIndexOf(" ");t>0&&(e=t)}t.push(s.slice(0,e)),s=s.slice(e).trim()}return t}(N.description),api_url:N.api_url,example_output:N.example_output,version:N.version,author:{name:N.author.name,contact:N.author.contact,organization:N.author.organization},requests_per_hour:N.requests_per_hour,tags:N.tags,legal:{"privacy policy":N.legal["privacy policy"],terms:N.legal.terms,other:N.legal.other},image:N.image,payment_address:C(N.paymentAddress)}},version:"1.0"};g.setMetadata(721,f);let b=await t.getChangeAddress();g.setRequiredSigners([b]).setChangeAddress(b).sendLovelace(b,"15000000").sendAssets(b,[{unit:h+p,quantity:"1"}]);let j=await g.build(),_=await t.signTx(j,!0),A=await t.submitTx(_);w(A),setTimeout(()=>{y(!0),w(null)},6e4)}catch(e){e instanceof Error&&e.message,console.error("Error minting asset:",e),y(!0),w(null)}finally{v(!1)}};return(0,r.jsxs)(h.Zp,{className:"col-span-12 lg:col-span-6",children:[(0,r.jsx)("div",{className:"p-6 flex items-start justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-2",children:"Register Agent"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Register a new agent on Masumi"})]})}),(0,r.jsxs)("div",{className:"p-6 pt-0",children:[s?j?(0,r.jsxs)("div",{className:"mb-4 p-4 bg-muted text-muted-foreground rounded-md",children:["Transaction pending: ",j,(0,r.jsx)("br",{}),"Please wait for confirmation before registering another agent."]}):null:(0,r.jsx)("div",{className:"mb-4 p-4 bg-muted text-muted-foreground rounded-md",children:"Please connect your wallet to register an agent"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Agent Name"}),(0,r.jsx)(u.p,{value:N.name,onChange:e=>A("name","",e.target.value),placeholder:"My AI Agent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Description"}),(0,r.jsx)(p.T,{value:N.description,onChange:e=>A("description","",e.target.value),placeholder:"Describe what your agent does..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Version"}),(0,r.jsx)(u.p,{value:N.version,onChange:e=>A("version","",e.target.value),placeholder:"1.0.0"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Author Name"}),(0,r.jsx)(u.p,{value:N.author.name,onChange:e=>A("author","name",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Contact Email"}),(0,r.jsx)(u.p,{type:"email",value:N.author.contact,onChange:e=>A("author","contact",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Organization"}),(0,r.jsx)(u.p,{value:N.author.organization,onChange:e=>A("author","organization",e.target.value)})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"API Endpoint"}),(0,r.jsx)(u.p,{value:N.api_url,onChange:e=>A("api_url","",e.target.value),placeholder:"https://api.example.com/agent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Example Output (IPFS Hash)"}),(0,r.jsx)(u.p,{value:N.example_output,onChange:e=>A("example_output","",e.target.value),placeholder:"QmXyz..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Requests per Hour"}),(0,r.jsx)(u.p,{type:"number",value:N.requests_per_hour,onChange:e=>A("requests_per_hour","",parseInt(e.target.value))})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Privacy Policy URL"}),(0,r.jsx)(u.p,{value:N.legal["privacy policy"],onChange:e=>A("legal","privacy policy",e.target.value),placeholder:"https://example.com/privacy"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Terms of Service URL"}),(0,r.jsx)(u.p,{value:N.legal.terms,onChange:e=>A("legal","terms",e.target.value),placeholder:"https://example.com/terms"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{children:"Other Legal Documentation (Optional)"}),(0,r.jsx)(u.p,{value:N.legal.other,onChange:e=>A("legal","other",e.target.value),placeholder:"https://example.com/other"})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{htmlFor:"paymentAddress",children:"Payment Address"}),(0,r.jsx)(u.p,{id:"paymentAddress",value:N.paymentAddress,onChange:e=>_(a=>({...a,paymentAddress:e.target.value})),placeholder:"Enter the Cardano address that will receive payments"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"This address will receive payments when users interact with your agent"})]})}),(0,r.jsx)(o.$,{onClick:T,disabled:!s||f||!b,className:"w-full",children:f?"Processing...":b?"Register Agent":"Waiting for confirmation..."})]})]})]})}[n,i]=f.then?(await f)():f,s()}catch(e){s(e)}})},11741:(e,a,t)=>{"use strict";t.d(a,{Zp:()=>i});var s=t(74848),r=t(96540),n=t(76985);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("shadow border border-border rounded-2xl",t),...r})});i.displayName="Card",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})}).displayName="CardHeader",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})}).displayName="CardTitle",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...r})}).displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},88743:(e,a,t)=>{"use strict";t.d(a,{p:()=>i});var s=t(74848),r=t(96540),n=t(76985);let i=r.forwardRef((e,a)=>{let{className:t,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...i})});i.displayName="Input"},40586:(e,a,t)=>{"use strict";t.d(a,{J:()=>d});var s=t(74848),r=t(96540),n=t(95920),i=t(22732),c=t(76985);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.b,{ref:a,className:(0,c.cn)(l(),t),...r})});d.displayName=n.b.displayName},89889:(e,a,t)=>{"use strict";t.d(a,{T:()=>i});var s=t(74848),r=t(96540),n=t(76985);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r})});i.displayName="Textarea"},85386:(e,a,t)=>{"use strict";t.d(a,{Y:()=>s});let s=JSON.parse('{"preamble":{"title":"schaier-io/permission-based-wallet","description":"Aiken contracts for project \'schaier-io/permission-based-wallet\'","version":"0.0.0","plutusVersion":"v3","compiler":{"name":"Aiken","version":"v1.1.0+be31a7c"},"license":"Apache-2.0"},"validators":[{"title":"mint.mintUnique.mint","redeemer":{"title":"redeemer","schema":{"$ref":"#/definitions/mint~1Action"}},"parameters":[{"title":"_paymentContractAddress","schema":{"$ref":"#/definitions/ByteArray"}}],"compiledCode":"59021c0101003232323232323223225333004323232323253323300a3001300b3754004264646464a66601c600a0022a66602260206ea801c540085854ccc038c00c00454ccc044c040dd50038a8010b0b18071baa00613232323232325333015301800213232325333015300c3016375401c264a66602c601a602e6ea80044c94ccc05ccdc78029b9432337146eb8c004c068dd51800980d1baa0023337929452008375a603a603c60346ea8c004c068dd50011180e8008a99980b9806002098060018a5014a0603660306ea800458ccc8c0040048894ccc06c0085300103d87a800013232533301a301100313374a90001980f00125eb804ccc014014004cdc0001a4002603e006603a00401090000a99980a99b87002480044c02800452819198008009980300380591299980c8008a4000266e01200233002002301c001375a602a0046eb8c04c00458c058004cc00400801888c94ccc048c01cc04cdd50008a5eb7bdb1804dd5980b980a1baa001323300100100322533301600114c103d87a800013232323253330173372200e0042a66602e66e3c01c0084cdd2a4000660366e980052f5c02980103d87a8000133006006003375660300066eb8c058008c068008c060004dd59809980a180a180a180a0011bac3012001300e375400e6e1d2002375c601e60186ea8008dc3a40002c601a601c004601800260180046014002600c6ea800452613656375c002ae6955ceaab9e5573eae815d0aba201","hash":"af9ed1537dd07c3039f8b666ea74c8b262063b9713ba2823d10fc288"},{"title":"mint.mintUnique.else","parameters":[{"title":"_paymentContractAddress","schema":{"$ref":"#/definitions/ByteArray"}}],"compiledCode":"59021c0101003232323232323223225333004323232323253323300a3001300b3754004264646464a66601c600a0022a66602260206ea801c540085854ccc038c00c00454ccc044c040dd50038a8010b0b18071baa00613232323232325333015301800213232325333015300c3016375401c264a66602c601a602e6ea80044c94ccc05ccdc78029b9432337146eb8c004c068dd51800980d1baa0023337929452008375a603a603c60346ea8c004c068dd50011180e8008a99980b9806002098060018a5014a0603660306ea800458ccc8c0040048894ccc06c0085300103d87a800013232533301a301100313374a90001980f00125eb804ccc014014004cdc0001a4002603e006603a00401090000a99980a99b87002480044c02800452819198008009980300380591299980c8008a4000266e01200233002002301c001375a602a0046eb8c04c00458c058004cc00400801888c94ccc048c01cc04cdd50008a5eb7bdb1804dd5980b980a1baa001323300100100322533301600114c103d87a800013232323253330173372200e0042a66602e66e3c01c0084cdd2a4000660366e980052f5c02980103d87a8000133006006003375660300066eb8c058008c068008c060004dd59809980a180a180a180a0011bac3012001300e375400e6e1d2002375c601e60186ea8008dc3a40002c601a601c004601800260180046014002600c6ea800452613656375c002ae6955ceaab9e5573eae815d0aba201","hash":"af9ed1537dd07c3039f8b666ea74c8b262063b9713ba2823d10fc288"}],"definitions":{"ByteArray":{"dataType":"bytes"},"mint/Action":{"title":"Action","anyOf":[{"title":"MintAction","dataType":"constructor","index":0,"fields":[]},{"title":"BurnAction","dataType":"constructor","index":1,"fields":[]}]}}}')},68943:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>l});var r=t(74848),n=t(96540),i=t(13724),c=e([i]);function l(){let[e,a]=(0,n.useState)([]);return(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Register New Agent"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Add your AI agent to the Masumi registry"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,r.jsx)("div",{className:"col-span-12 lg:col-span-8",children:(0,r.jsx)(i.A,{addDebugInfo:e=>{console.log(e),a(a=>[...a,"".concat(new Date().toISOString(),": ").concat(e)])}})}),(0,r.jsxs)("div",{className:"col-span-12 lg:col-span-4 space-y-4",children:[(0,r.jsxs)("div",{className:"bg-muted rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Debug Information"}),(0,r.jsx)("div",{className:"text-xs font-mono text-muted-foreground max-h-[400px] overflow-y-auto whitespace-pre-wrap",children:e.map((e,a)=>(0,r.jsx)("div",{className:"mb-1",children:e},a))})]}),(0,r.jsxs)("div",{className:"bg-muted rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Metadata Template"}),(0,r.jsx)("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:'Metadata Template:\n{\n  "<policy id>": {\n    "<asset_name>": {\n      "name": "<name>",\n      "description": "<description>",\n      "api_url": "<api_url>",\n      "example_output": "<ipfs_hash>",\n      "version": "<version>",\n      "author": {\n        "name": "<author_name>",\n        "contact": "<author_contact_details>",\n        "organization": "<author_orga>"\n      },\n      "payment_address": "<cardano_address>",\n      "requests_per_hour": "request_amount",\n      "tags": [\n        "<tag>"\n      ],\n      "legal": {\n        "privacy policy": "<url>",\n        "terms": "<url>",\n        "other": "<url>"\n      },\n      "image": "http://example.com/path/to/image.png"\n    }\n  },\n  "version": "1.0"\n}'})]})]})]})]})}i=(c.then?(await c)():c)[0],s()}catch(e){s(e)}})}},e=>{var a=a=>e(e.s=a);e.O(0,[287,436,912,636,593,792],()=>a(92606)),_N_E=e.O()}]);