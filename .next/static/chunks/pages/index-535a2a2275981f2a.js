(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{92022:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(90948)}])},8286:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(74848);s(96540);var r=s(22732),n=s(76985);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...r})}},11741:(e,t,s)=>{"use strict";s.d(t,{Zp:()=>i});var a=s(74848),r=s(96540),n=s(76985);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("shadow border border-border rounded-2xl",s),...r})});i.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})}).displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},31808:(e,t,s)=>{"use strict";s.d(t,{f:()=>a,u:()=>r});let a={url:"https://cardano-preprod.blockfrost.io/api/v0",projectId:"preprodhrtK1nyhYpdtYRKQjmUDxpgGqzY7uyEq",policyId:"c7842ba56912a2df2f2e1b89f8e11751c6ec2318520f4d312423a272"};async function r(e){let t=await fetch("".concat(a.url).concat(e),{headers:{project_id:a.projectId,"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Unknown error"}))).message||"HTTP error! status: ".concat(t.status));return t.json()}},96239:(e,t,s)=>{"use strict";function a(e){return!(!e||"object"!=typeof e||!e.name||!e.description||!e.image||"string"!=typeof e.name||"string"!=typeof e.description&&!Array.isArray(e.description)||Array.isArray(e.description)&&!e.description.every(e=>"string"==typeof e))&&"string"==typeof e.image}s.d(t,{a:()=>a})},90948:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var a=s(74848),r=s(91106),n=s.n(r),i=s(30551),l=s(71434),c=s(96540),o=s(76985);let d=c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",s),...r})})});d.displayName="Table";let m=c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",s),...r})});m.displayName="TableHeader";let x=c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",s),...r})});x.displayName="TableBody",c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let h=c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});h.displayName="TableRow";let u=c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableHead";let p=c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});p.displayName="TableCell",c.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption";var f=s(58050),j=s(8564),g=s(37644),N=s(88003),v=s(31808),y=s(96239);function b(e){let{className:t,...s}=e,[r,b]=(0,c.useState)([]),[w,A]=(0,c.useState)(!0),[_,k]=(0,c.useState)(null);return((0,c.useEffect)(()=>{(async()=>{try{A(!0);let e=(await (0,v.u)("/assets/policy/".concat(v.f.policyId))).slice(-10).reverse().map(e=>{var t,s,a,r,n;let i=(0,y.a)(e.onchain_metadata);return{asset:e.asset,name:(null===(t=e.onchain_metadata)||void 0===t?void 0:t.name)||"Unnamed Agent",description:(null===(s=e.onchain_metadata)||void 0===s?void 0:s.description)||"No description available",authorName:i&&(null===(r=e.onchain_metadata)||void 0===r?void 0:null===(a=r.author)||void 0===a?void 0:a.name)||"Unknown Author",registeredAt:new Date(e.minted_at||Date.now()).toLocaleDateString(),requests:Math.floor(2e4*Math.random())+5e3,identityVerified:(null===(n=e.onchain_metadata)||void 0===n?void 0:n.identity_verified)||!1,metadataCorrect:i}});b(e)}catch(e){console.error("Error fetching agents:",e),k(e instanceof Error?e.message:"Failed to fetch agents"),b([{asset:"asset1...",name:"BetterAI Assistant",description:"Advanced AI Assistant for general tasks",authorName:"Masumi Labs",registeredAt:"2024-01-20",requests:12350,identityVerified:!1,metadataCorrect:!1}])}finally{A(!1)}})()},[]),w)?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading agents..."})}):_?(0,a.jsxs)("div",{className:"p-6 text-center text-red-500",children:["Error loading agents: ",_]}):(0,a.jsxs)("div",{className:(0,o.cn)("shadow border border-border rounded-2xl",t),...s,children:[(0,a.jsxs)("div",{className:"p-6 pb-2 flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-2",children:"Latest AI Agents"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recently registered agents on the network"})]}),(0,a.jsx)(n(),{href:"/agents",children:(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"gap-2",children:["View All",(0,a.jsx)(f.A,{className:"w-4 h-4"})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{className:"w-[300px] pl-6",children:"AGENT NAME"}),(0,a.jsx)(u,{children:"AUTHOR"}),(0,a.jsx)(u,{className:"text-center",children:"REGISTERED"}),(0,a.jsx)(u,{className:"text-center",children:"REQUESTS"}),(0,a.jsx)(u,{className:"text-center",children:"IDENTITY"}),(0,a.jsx)(u,{className:"text-center",children:"METADATA"}),(0,a.jsx)(u,{className:"text-right pr-6",children:"ACTIONS"})]})}),(0,a.jsx)(x,{children:r.map(e=>(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{className:"pl-6",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)(n(),{href:"https://preprod.cardanoscan.io/token/".concat(e.asset),target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(l.A,{className:"w-3 h-3"})})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})}),(0,a.jsx)(p,{children:e.authorName}),(0,a.jsx)(p,{className:"text-center",children:e.registeredAt}),(0,a.jsx)(p,{className:"text-center",children:e.requests.toLocaleString()}),(0,a.jsx)(p,{className:"text-center",children:e.identityVerified?(0,a.jsx)("div",{className:"flex items-center justify-center text-green-500",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})}):(0,a.jsx)("div",{className:"flex items-center justify-center text-red-500",children:(0,a.jsx)(g.A,{className:"w-4 h-4"})})}),(0,a.jsx)(p,{className:"text-center",children:e.metadataCorrect?(0,a.jsx)("div",{className:"flex items-center justify-center text-green-500",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})}):(0,a.jsx)("div",{className:"flex items-center justify-center text-red-500",children:(0,a.jsx)(g.A,{className:"w-4 h-4"})})}),(0,a.jsx)(p,{className:"text-right pr-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n(),{href:"/agents/".concat(e.asset),children:(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"Details"]})}),(0,a.jsx)(n(),{href:"/agents/".concat(e.asset,"/interact"),children:(0,a.jsxs)(i.$,{variant:"default",size:"sm",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Interact"]})})]})})]},e.asset))})]})]})}var w=s(70182),A=s.n(w),_=s(14953),k=s.n(_);let T={chart:{toolbar:{show:!1},zoom:{enabled:!1}},colors:["#2563eb"],dataLabels:{enabled:!1},grid:{show:!1},stroke:{width:2,curve:"smooth"},tooltip:{enabled:!0},xaxis:{labels:{show:!0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{show:!0}}},S=k()(()=>Promise.all([s.e(126),s.e(242)]).then(s.bind(s,17242)),{loadableGenerated:{webpack:()=>[17242]},ssr:!1}),E=e=>{let{height:t=330,colors:s=["#10B981"],grid:r=!0,gridColor:n,legendHorizontalPosition:i="right",chartSeries:l,chartCategories:c}=e,o=A()({},T,{colors:s,grid:{show:r,borderColor:n},xaxis:{categories:c}});return(0,a.jsx)(S,{type:"line",height:t,series:l,options:o})};var R=s(62989);let C=[{title:"Users",count:"12,060",result:12.5},{title:"Sessions",count:"30,000",result:5.56},{title:"Bounce Rate",count:"53%",result:-1.5},{title:"Session Duration",count:"3m 10s",result:-10.5}],D=e=>{let{className:t,...s}=e;return(0,a.jsxs)("div",{className:(0,o.cn)("shadow border border-border rounded-2xl",t),...s,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,a.jsx)("div",{className:"flex flex-wrap",children:C.map((e,t)=>(0,a.jsxs)("div",{className:"p-6 hover:bg-card",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-foreground",children:e.title}),(0,a.jsx)("p",{className:"text-xl font-semibold",children:e.count}),(0,a.jsxs)("p",{className:(0,o.cn)("text-sm font-medium mt-2",e.result>0?"text-emerald-500":"text-red-500"),children:[e.result>0?"+":"",e.result+"%"]})]},t))}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(i.$,{variant:"secondary",size:"icon",className:"w-8 h-8",children:(0,a.jsx)(R.A,{className:"w-4 h-4 text-icon"})})})]}),(0,a.jsx)("div",{className:"pr-3",children:(0,a.jsx)(E,{height:300,colors:["hsl(var(--primary))"],chartSeries:[{name:"Sales",data:[6,15,10,17,20,10,15]}],chartCategories:["Sat","Sun","Mon","Tue","Wed","Thu","Fri"]})})]})},I=e=>{let{className:t,...s}=e;return(0,a.jsxs)("div",{className:(0,o.cn)("shadow border border-border rounded-2xl",t),...s,children:[(0,a.jsxs)("div",{className:"p-6 flex items-start justify-between mb-[30px]",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h6",{className:"font-semibold",children:"5.8"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"+2.5%"})]}),(0,a.jsx)("p",{className:"text-sm text-secondary-foreground",children:"Average Positions"})]}),(0,a.jsx)(i.$,{variant:"secondary",size:"icon",className:"w-8 h-8",children:(0,a.jsx)(R.A,{className:"w-4 h-4 text-icon"})})]}),(0,a.jsx)(E,{colors:["hsl(var(--primary))"],chartSeries:[{name:"Sales",data:[6,15,10,17]}],chartCategories:["Sep 20","Sep 21","Sep 22","Sep 23"]})]})},L="addr_test1wr3hvt2hw89l6ay85lr0f2nr80tckrnpjr808dxhq39xkssvw7mx8";function z(e){let{className:t}=e,[s,r]=(0,c.useState)([]),[o,j]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{try{let e=(await (0,v.u)("/addresses/".concat(L,"/transactions"))).slice(0,10).map(async e=>{var t,s;let a=await (0,v.u)("/txs/".concat(e.tx_hash,"/utxos")),r=a.outputs.find(e=>e.address===L);return{hash:e.tx_hash,amount:(null==r?void 0:null===(t=r.amount.find(e=>"lovelace"===e.unit))||void 0===t?void 0:t.quantity)||"0",timestamp:new Date(1e3*e.block_time).toLocaleString(),sender:(null===(s=a.inputs[0])||void 0===s?void 0:s.address)||"Unknown"}}),t=await Promise.all(e);r(t)}catch(e){console.error("Error fetching transactions:",e)}finally{j(!1)}})()},[]),o)?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading transactions..."})}):(0,a.jsx)("div",{className:t,children:(0,a.jsxs)("div",{className:"rounded-2xl border bg-card text-card-foreground shadow",children:[(0,a.jsxs)("div",{className:"p-6 flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Latest Payment Transactions"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recent payments through the contract"})]}),(0,a.jsx)(n(),{href:"/transactions",children:(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"gap-2",children:["View All",(0,a.jsx)(f.A,{className:"w-4 h-4"})]})})]}),(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{children:(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{children:"Time"}),(0,a.jsx)(u,{children:"Amount"}),(0,a.jsx)(u,{children:"From"}),(0,a.jsx)(u,{className:"text-right",children:"View"})]})}),(0,a.jsx)(x,{children:s.map(e=>(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:e.timestamp}),(0,a.jsxs)(p,{children:[(parseInt(e.amount)/1e6).toFixed(2)," ₳"]}),(0,a.jsxs)(p,{className:"font-mono text-xs",children:[e.sender.slice(0,8),"...",e.sender.slice(-8)]}),(0,a.jsx)(p,{className:"text-right",children:(0,a.jsx)(n(),{href:"https://preprod.cardanoscan.io/transaction/".concat(e.hash),target:"_blank",children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})})})]},e.hash))})]})]})})}var H=s(11741),U=s(8286);function F(e){let{className:t}=e,[s,r]=(0,c.useState)([]);return(0,c.useEffect)(()=>{(async()=>{try{let e=[],t=1,s=!0;for(;s;){let a=await (0,v.u)("/assets/policy/".concat(v.f.policyId,"?page=").concat(t,"&count=100"));0===a.length?s=!1:(e=[...e,...a],t++)}console.log("Found ".concat(e.length," total assets"));let a=await Promise.all(e.map(async e=>{try{let t=await (0,v.u)("/assets/".concat(e.asset)),s=(await (0,v.u)("/assets/".concat(e.asset,"/history"))).map(async s=>{var a,r,n;let i=await (0,v.u)("/txs/".concat(s.tx_hash));console.log("Transaction details:",i);let l=(0,y.a)(t.onchain_metadata);return{asset:e.asset,name:(null===(a=t.onchain_metadata)||void 0===a?void 0:a.name)||"Unnamed Agent",author:l&&(null===(n=t.onchain_metadata)||void 0===n?void 0:null===(r=n.author)||void 0===r?void 0:r.name)||"Unknown Author",timestamp:i.block_time,metadataCorrect:l,type:"minted"===s.action?"registration":"deregistration",txHash:s.tx_hash}});return await Promise.all(s)}catch(t){return console.error("Error fetching history for asset ".concat(e.asset,":"),t),[]}})),n=a.flat().sort((e,t)=>{let s=t.timestamp-e.timestamp;return 0!==s?s:"registration"===e.type&&"deregistration"===t.type?-1:"deregistration"===e.type&&"registration"===t.type?1:0}).slice(0,10);console.log("All transactions before sorting:",a.flat().map(e=>({name:e.name,type:e.type,timestamp:e.timestamp,date:new Date(1e3*e.timestamp).toLocaleString(),asset:e.asset,txHash:e.txHash}))),console.log("Final sorted transactions:",n.map(e=>({name:e.name,type:e.type,timestamp:e.timestamp,date:new Date(1e3*e.timestamp).toLocaleString(),asset:e.asset,txHash:e.txHash}))),r(n)}catch(e){console.error("Error fetching registrations:",e)}})()},[]),(0,a.jsx)(H.Zp,{className:t,children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Latest Agent Activity"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recent registrations and deregistrations"})]}),(0,a.jsx)(n(),{href:"/agents",children:(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"gap-2",children:["View All",(0,a.jsx)(f.A,{className:"w-4 h-4"})]})})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(U.E,{variant:"registration"===e.type?"default":"destructive",className:"w-24 justify-center",children:"registration"===e.type?"Registered":"Deregistered"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)(n(),{href:"https://preprod.cardanoscan.io/token/".concat(e.asset),target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(l.A,{className:"w-3 h-3"})})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["By ",e.author]})]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:new Date(1e3*e.timestamp).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]},"".concat(e.asset,"-").concat(e.type,"-").concat(t)))})]})})}function M(){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 mb-7",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg border border-blue-200/20",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"font-medium mb-1",children:"About Masumi Registry"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Learn more about the Masumi AI Agent Registry and how to get started"})]}),(0,a.jsx)(n(),{href:"https://masumi.network",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(i.$,{variant:"outline",className:"gap-2",children:["Learn More",(0,a.jsx)(l.A,{className:"h-4 w-4"})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-7",children:[(0,a.jsx)(I,{className:"col-span-12 lg:col-span-4"}),(0,a.jsx)(D,{className:"col-span-12 lg:col-span-8"}),(0,a.jsx)(b,{className:"col-span-12"}),(0,a.jsx)(z,{className:"col-span-12 lg:col-span-6"}),(0,a.jsx)(F,{className:"col-span-12 lg:col-span-6"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[71,636,593,792],()=>t(92022)),_N_E=e.O()}]);