(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{44741:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/transactions",function(){return r(32358)}])},8286:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var s=r(74848);r(96540);var a=r(22732),n=r(76985);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(o({variant:r}),t),...a})}},11741:(e,t,r)=>{"use strict";r.d(t,{Zp:()=>o});var s=r(74848),a=r(96540),n=r(76985);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("shadow border border-border rounded-2xl",r),...a})});o.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})}).displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},31808:(e,t,r)=>{"use strict";r.d(t,{f:()=>s,u:()=>a});let s={url:"https://cardano-preprod.blockfrost.io/api/v0",projectId:"preprodhrtK1nyhYpdtYRKQjmUDxpgGqzY7uyEq",policyId:"c7842ba56912a2df2f2e1b89f8e11751c6ec2318520f4d312423a272"};async function a(e){let t=await fetch("".concat(s.url).concat(e),{headers:{project_id:s.projectId,"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Unknown error"}))).message||"HTTP error! status: ".concat(t.status));return t.json()}},32358:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(74848),a=r(96540),n=r(11741),o=r(31808),c=r(91106),d=r.n(c),i=r(8286),l=r(71434),u=r(48287).Buffer;function f(){let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let e=await (0,o.u)("/addresses/addr_test1wr3hvt2hw89l6ay85lr0f2nr80tckrnpjr808dxhq39xkssvw7mx8/utxos");console.log("Found ".concat(e.length," UTXOs"));let r=(await Promise.all(e.map(async e=>{try{let t=(await (0,o.u)("/txs/".concat(e.tx_hash,"/utxos"))).outputs.find(e=>"addr_test1wr3hvt2hw89l6ay85lr0f2nr80tckrnpjr808dxhq39xkssvw7mx8"===e.address);if(!(null==t?void 0:t.inline_datum))return null;let r=await (0,o.u)("/scripts/datum/".concat(t.data_hash));if(!(null==r?void 0:r.json_value))return null;let s=r.json_value,a=await (0,o.u)("/txs/".concat(e.tx_hash));return{txHash:e.tx_hash,amount:t.amount.find(e=>"lovelace"===e.unit).quantity,timestamp:a.block_time,status:"pending",buyerPkh:s.fields[0].bytes,sellerPkh:s.fields[1].bytes,referenceId:u.from(s.fields[2].bytes,"hex").toString("utf8"),resultHash:s.fields[3].bytes,unlockTime:s.fields[4].int,refundTime:s.fields[5].int,refundRequested:1===s.fields[6].constructor,refundDenied:1===s.fields[7].constructor}}catch(e){return console.error("Error processing transaction:",e),null}}))).filter(Boolean).sort((e,t)=>t.timestamp-e.timestamp);t(r)}catch(e){console.error("Error fetching transactions:",e)}finally{c(!1)}})()},[]),r)?(0,s.jsx)("div",{className:"p-6 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading transactions..."})}):(0,s.jsxs)("div",{className:"container mx-auto py-8",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Transactions"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"All smart contract transactions"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,s.jsx)(n.Zp,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:["Reference ID: ",e.referenceId]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(1e3*e.timestamp).toLocaleString()}),(0,s.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,s.jsxs)("p",{className:"text-xs font-mono",children:["Buyer: ",e.buyerPkh]}),(0,s.jsxs)("p",{className:"text-xs font-mono",children:["Seller: ",e.sellerPkh]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-medium",children:[parseInt(e.amount)/1e6," ADA"]}),(0,s.jsx)(i.E,{variant:"completed"===e.status?"default":"refunded"===e.status?"destructive":"secondary",children:e.status}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)(d(),{href:"https://preprod.cardanoscan.io/transaction/".concat(e.txHash),target:"_blank",className:"text-xs text-primary hover:underline flex items-center gap-1 justify-end",children:["View Transaction",(0,s.jsx)(l.A,{className:"h-3 w-3"})]})})]})]})},e.txHash)),0===e.length&&(0,s.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"No transactions found"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(44741)),_N_E=e.O()}]);